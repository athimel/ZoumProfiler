<div ng-if="compare.show" ng-controller="ComparaisageController">

    <form class="form-horizontal" role="form">

        <table class="table table-striped table-hover table-condensed compare">
            <tbody>
                <tr>
                    <td></td>
                    <th colspan="{{compare.profiles.length}}" class="title">Caractéristiques</th>
                </tr>
                <tr>
                    <td></td>
                    <th ng-repeat="p in compare.profiles">{{p.name}} ({{p.profile}})</th>
                </tr>
                <tr ng-repeat="carac in caracs">
                    <td>{{carac.id}}</td>
                    <td ng-repeat="p in compare.profiles"> {{ p.caracs[carac.id] }}
                        <span ng-if="carac.type == 'D3' || carac.type == 'D6'">{{carac.type}}</span>
                        <span ng-if="p.bp[carac.id] >= 0">+</span>{{p.bp[carac.id]}}
                        <span ng-if="p.bm[carac.id] >= 0">+</span>{{p.bm[carac.id]}}
                        (
                        <span ng-if="carac.type == 'T'">{{p.caracs[carac.id] | duration}}</span>
                        <span ng-if="carac.type == 'D1'">{{p.caracs[carac.id] + p.bp[carac.id] + p.bm[carac.id]}}</span>
                        <span ng-if="carac.type == 'D3'">{{p.caracs[carac.id] * 2 + p.bp[carac.id] + p.bm[carac.id]}}<span ng-if="carac.id == 'DEG'">/{{degCritiqueComp(p, p.caracs['DEG'])}}</span></span>
                        <span ng-if="carac.type == 'D6'">{{p.caracs[carac.id] * 3.5 + p.bp[carac.id] + p.bm[carac.id]}}</span>
                        )
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <th colspan="{{compare.profiles.length}}" class="title">Compétences</th>
                </tr>
                <tr>
                    <td></td>
                    <th ng-repeat="p in compare.profiles">{{p.name}} ({{p.profile}})</th>
                </tr>
                <tr ng-repeat="comp in compare.comps|orderBy:'name'">
                    <td></td>
                    <td ng-repeat="p in compare.profiles">
                        <span ng-if="p.comps[comp.id] === true">{{ comp.name }}</span>
                    </td>
                </tr>
            </tbody>
        </table>

    </form>

</div>