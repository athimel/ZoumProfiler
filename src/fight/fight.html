
<div class="form-group comp-box fight-box" ng-controller="FightController">

    <label class="col-sm-2 control-label">Aptitudes au combat</label>

    <div class="col-sm-10">
        <table class="table table-striped table-hover table-condensed">
            <thead>
            <tr>
                <td>Type d'attaque</td>
                <td>Attaque moy.</td>
                <td>Dégats moy. (résisté)</td>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="fc in fightCapabilities|orderBy:'name'">
                <td>{{fc.name}}</td>
                <td>{{fc.ATT}}</td>
                <td>
                    {{fc.DEG}}<span ng-if="fc.DEG_CRITIQ">/{{fc.DEG_CRITIQ}}</span>
                    <span ng-if="fc.DEG_RESIST">({{fc.DEG_RESIST}}<span ng-if="fc.DEG_RESIST_CRITIQ">/{{fc.DEG_RESIST_CRITIQ}}</span>)</span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

<script>

    $(document).ready(function() {
        var stickyNavTop = $('.fight-box').offset().top;

        var stickyNav = function(){
            var scrollTop = $(window).scrollTop();

            if (scrollTop > stickyNavTop) {
                $('.fight-box').addClass('sticky');
            } else {
                $('.fight-box').removeClass('sticky');
            }
        };

        stickyNav();

        $(window).scroll(function() {
            stickyNav();
        });
    });

</script>
